{% extends 'crud_app/base.html' %}

{% load filtros_personalizados %}

{% block title %}Compra Exitosa{% endblock %}

{% block contenido %}

<!-- Barra superior fija con botones -->
<div class="barra-superior" style="display: flex; justify-content: space-between; align-items: center; background-color: #333; border-bottom: 1px solid #444; position: fixed; top: 0; left: 0; width: 100%; padding: 15px 20px; z-index: 1000; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);">
    <!-- Enlace a la página principal (producto_para_usuario) -->
    <a href="{% url 'productos_para_usuario' %}" style="font-weight: bold; font-size: 1.4em; color: #f39c12; text-decoration: none; transition: color 0.3s ease, transform 0.3s ease;">Store Technology</a>
    <div>
        <a href="{% url 'carrito' %}" class="btn-cart" style="color: #fff; background-color: #ff5722; border: none; padding: 8px 20px; border-radius: 30px; font-size: 1.1em; text-decoration: none; transition: background-color 0.3s ease, transform 0.3s ease;">
            🛒 Carrito
        </a>
        <a href="{% url 'cerrar_sesion' %}" class="btn-logout ml-2" style="color: #fff; background-color: #dc3545; padding: 8px 18px; border-radius: 30px; text-decoration: none; transition: background-color 0.3s ease, transform 0.3s ease;">
            Cerrar sesión
        </a>
    </div>
</div>

<!-- Contenido de la compra exitosa -->
<div class="container mt-4" style="font-family: 'Poppins', sans-serif; margin-top: 100px; max-width: 1200px; background: radial-gradient(circle, #1c1f34, #2c334d); color: white; border-radius: 20px; padding: 40px; box-shadow: 0px 12px 30px rgba(0, 0, 0, 0.6); animation: fadeIn 1.2s;">
    <h2 class="text-center" style="color: #f39c12; text-decoration: underline; font-family: 'Roboto', sans-serif; letter-spacing: 1px; transition: color 0.3s ease;">¡Compra realizada con éxito!</h2>
    <p class="text-center" style="color: #fff; font-size: 1.1em;">Gracias por tu compra. Te hemos enviado un correo con los detalles de tu pedido.</p>

    <h4 style="color: #f39c12; font-family: 'Roboto', sans-serif; letter-spacing: 0.5px;">Resumen de la compra</h4>

    <!-- Contenedor de resumen de la compra con fondo oscuro transparente -->
    <div style="background-color: rgba(0, 0, 0, 0.7); border-radius: 10px; padding: 25px; box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);">
        <p><strong>Teléfono:</strong> {{ telefono }}</p>
        <p><strong>Nombre y Apellido:</strong> {{ nombres }}</p>
        <p><strong>Descripcion del producto:</strong> {{ descripcion }}</p>
        <p><strong>barrio:</strong> {{ barrio }}</p>
        <p><strong>Dirección:</strong> {{ direccion }}</p>
        <p><strong>Correo:</strong> {{ correo }}</p> <!-- AGREGADO -->
    </div>
    
    <h4 style="color: #f39c12; font-family: 'Roboto', sans-serif; letter-spacing: 0.5px;">Total: ${{ total|formato_precio }}</h4>

    <!-- Enlace para volver a la tienda -->
    <div class="text-center">
        <a href="{% url 'productos_para_usuario' %}" class="btn btn-primary" style="color: #fff; background-color: #4CAF50; padding: 12px 25px; border-radius: 25px; font-size: 1.2em; text-decoration: none; transition: background-color 0.3s ease, transform 0.3s ease;">
            Volver a la tienda
        </a>
    </div>
</div>

<!-- Estilos adicionales para efectos visuales -->
<style>
    /* Efectos para la barra superior */
    .barra-superior a:hover {
        color: #f39c12;
        text-decoration: underline;
        transform: scale(1.05);
    }
    .barra-superior .btn-cart:hover, .barra-superior .btn-logout:hover {
        background-color: #ff7043;
        transform: scale(1.1);
    }

    /* Efectos de hover en los textos */
    h2:hover {
        color: #f39c12;
        text-decoration: underline;
        transform: scale(1.05);
    }

    /* Estilo de los botones */
    .btn-primary:hover {
        background-color: #45a049;
        transform: scale(1.05);
    }

    .btn-cart, .btn-logout {
        transition: all 0.3s ease;
    }

    /* Estilo para el resumen de compra */
    .container {
        margin-top: 100px;
        max-width: 800px;
        background: linear-gradient(135deg, #FFDCDC 0%, #FFF2EB 50%, #FFE8CD 100%);
        color: #ad1457;
        border-radius: 20px;
        padding: 40px;
        box-shadow: 0px 12px 30px rgba(255, 214, 186, 0.3);
        animation: fadeIn 1.2s;
    }
    
    /* Títulos y textos */
    .container h2 {
        color: #ad1457;
        text-decoration: underline;
        font-family: 'Roboto', sans-serif;
        letter-spacing: 1px;
    }
    
    .container p {
        color: #ad7c63;
        font-size: 1.1em;
    }
    
    .container h4 {
        color: #ad1457;
        font-family: 'Roboto', sans-serif;
        letter-spacing: 0.5px;
        margin-top: 20px;
    }
    
    /* Contenedor del resumen */
    .container div[style*="background-color"] {
        background-color: #fff !important;
        border-radius: 10px;
        padding: 25px;
        box-shadow: 0 6px 15px rgba(255, 214, 186, 0.2);
        margin: 20px 0;
    }
    
    /* Botones */
    .btn-primary {
        color: #ad1457;
        background-color: #FFD6BA !important;
        padding: 12px 25px;
        border-radius: 25px;
        font-size: 1.2em;
        text-decoration: none;
        transition: background-color 0.3s ease, transform 0.3s ease;
        border: none !important;
    }
    
    .btn-primary:hover {
        background-color: #FFDCDC !important;
        transform: scale(1.05);
    }

    /* Efectos de transición */
    .container h2:hover, .container h4:hover {
        transform: scale(1.05);
    }
    
    /* Animación de aparición */
    @keyframes fadeIn {
        0% { opacity: 0; }
        100% { opacity: 1; }
    }
</style>

{% endblock %}
